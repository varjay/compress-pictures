!function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports.TinyPic=t():e.TinyPic=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=n(1);t.default=function(e,t=0){let n,o=(e=e.files[0]).type,i=document.createElement("canvas");if(!i.getContext)return 0;n=i.getContext("2d");let u=new Image,a=new FileReader;return new Promise(function(t,f){a.onload=function(e){u.src=e.target.result,u.onload=function(){let e=u.width,a=u.height;if(e<10||e<10)return!1;let f=Object(r.default)(u.width,u.height);i.setAttribute("width",f.width),i.setAttribute("height",f.height),function(e,t,n,r,o,i,u,a,f,l){let c=function(e){let t=e.naturalHeight,n=document.createElement("canvas");n.width=1,n.height=t;let r=n.getContext("2d");r.drawImage(e,0,0);let o=r.getImageData(0,0,1,t).data,i=0,u=t,a=t;for(;a>i;){let e=o[4*(a-1)+3];0===e?u=a:i=a,a=u+i>>1}let f=a/t;return 0===f?1:f}(t);e.drawImage(t,n*c,r*c,o*c,i*c,u,a,f,l)}(n,u,0,0,e,a,0,0,f.width,f.height),t(function(e,t){let n=window.atob(e.split(",")[1]),r=new ArrayBuffer(n.length),o=new Uint8Array(r);for(let i=0;i<n.length;i++)o[i]=n.charCodeAt(i);return new Blob([r],{type:t})}(function(e,t){let n=new Image;return n.src=e.toDataURL(t,.7),n}(i,o).src,o))}},a.readAsDataURL(e)})}},function(e,t,n){"use strict";n.r(t),t.default=function(e,t){let n=e/t,r=1280,o=1280;return e<1280&&t<1280?{width:e,height:t}:(e>1280&&t>1280?n>2?r=(o=1280)*n:o=(r=1280)/n:n>2?(r=e,o=t):n<.5?(r=e,o=t):n>1?o=(r=1280)/n:r=(o=1280)*n,{width:r,height:o})}}]).default});